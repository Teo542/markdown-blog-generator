{% extends "admin_base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="dashboard">
    <div class="dashboard-header">
        <h1>Posts</h1>
        <a href="{{ url_for('new_post') }}" class="btn btn-primary">+ New Post</a>
    </div>

    {% if posts %}
    <div class="post-list">
        {% for post in posts %}
        <div class="post-item">
            <div class="post-info">
                <h3 class="post-title">{{ post.title }}</h3>
                <div class="post-meta">
                    <span class="post-date">{{ post.date }}</span>
                    {% if post.draft %}
                    <span class="status draft">Draft</span>
                    {% else %}
                    <span class="status published">Published</span>
                    {% endif %}
                    {% if post.tags %}
                    <span class="post-tags">
                        {% for tag in post.tags %}
                        <span class="tag">{{ tag }}</span>
                        {% endfor %}
                    </span>
                    {% endif %}
                </div>
            </div>
            <div class="post-actions">
                <a href="{{ url_for('edit_post', slug=post.slug) }}" class="btn btn-small">Edit</a>
                <form action="{{ url_for('delete_post', slug=post.slug) }}" method="POST" class="inline" onsubmit="return confirm('Delete this post?')">
                    <button type="submit" class="btn btn-small btn-danger">Delete</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <p>No posts yet. Create your first post!</p>
        <a href="{{ url_for('new_post') }}" class="btn btn-primary">+ New Post</a>
    </div>
    {% endif %}
</div>
{% endblock %}
